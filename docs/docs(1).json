{"openapi":"3.0.0","info":{"title":"LEGIS API","version":"1.0.0","description":"RESTful API for accessing legislative initiatives data from the Portuguese Parliament","contact":{"name":"API Support"}},"servers":[{"url":"https://legis.veto.pt","description":"Production server"}],"tags":[{"name":"initiatives","description":"Legislative initiatives operations"},{"name":"types","description":"Initiative types operations"},{"name":"authors","description":"Initiative authors operations"}],"components":{"schemas":{"Initiative":{"type":"object","properties":{"IniId":{"type":"string","description":"Initiative ID"},"IniLeg":{"type":"string","description":"Legislature"},"IniNr":{"type":"string","description":"Initiative Number"},"IniTipo":{"type":"string","description":"Type code"},"IniDescTipo":{"type":"string","description":"Type description"},"IniTitulo":{"type":"string","description":"Title"},"DataInicioleg":{"type":"string","description":"Start date"},"IniAutorOutros":{"type":"object","properties":{"nome":{"type":"string","description":"Author name"},"sigla":{"type":"string","description":"Author acronym"}}},"IniEventos":{"type":"array","items":{"type":"object","properties":{"EvtId":{"type":"string","description":"Event ID"},"Fase":{"type":"string","description":"Phase"},"DataFase":{"type":"string","description":"Phase date"}}}},"lastUpdated":{"type":"string","format":"date-time","description":"Last update timestamp"}}},"InitiativesList":{"type":"object","properties":{"initiatives":{"type":"array","items":{"$ref":"#/components/schemas/Initiative"}},"pagination":{"type":"object","properties":{"totalDocs":{"type":"integer","description":"Total number of documents"},"limit":{"type":"integer","description":"Number of documents per page"},"totalPages":{"type":"integer","description":"Total number of pages"},"page":{"type":"integer","description":"Current page"},"hasPrevPage":{"type":"boolean","description":"Has previous page"},"hasNextPage":{"type":"boolean","description":"Has next page"}}}}},"TypesList":{"type":"array","items":{"type":"object","properties":{"code":{"type":"string","description":"Type code"},"description":{"type":"string","description":"Type description"},"count":{"type":"integer","description":"Number of initiatives of this type"}}}},"AuthorsList":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","description":"Author name"},"acronym":{"type":"string","description":"Author acronym"},"count":{"type":"integer","description":"Number of initiatives by this author"}}}},"Error":{"type":"object","properties":{"message":{"type":"string"},"error":{"type":"string"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}},"paths":{"/api/authors":{"get":{"tags":["authors"],"summary":"Get initiative authors","description":"Retrieve a list of initiative authors with counts","responses":{"200":{"description":"List of initiative authors","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorsList"}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/deputados":{"get":{"tags":["deputados"],"summary":"Get all deputies","description":"Retrieve a list of all deputies (parlamentares) with their details","responses":{"200":{"description":"List of deputies","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"idCadastro":{"type":"string","description":"Deputy ID"},"nome":{"type":"string","description":"Deputy name"},"GP":{"type":"string","description":"Parliamentary Group"},"initiativeCount":{"type":"number","description":"Number of initiatives authored"}}}}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/api/initiatives/{id}":{"get":{"tags":["initiatives"],"summary":"Get initiative by ID","description":"Retrieve detailed information about a specific initiative","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"description":"The initiative ID"}],"responses":{"200":{"description":"Initiative details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Initiative"}}}},"404":{"description":"Initiative not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/initiatives":{"get":{"tags":["initiatives"],"summary":"Get initiatives list","description":"Retrieve a paginated list of legislative initiatives with filtering options","parameters":[{"name":"page","in":"query","schema":{"type":"integer","default":1},"description":"Page number for pagination"},{"name":"limit","in":"query","schema":{"type":"integer","default":20},"description":"Number of items per page"},{"name":"type","in":"query","schema":{"type":"string"},"description":"Filter by initiative type code"},{"name":"author","in":"query","schema":{"type":"string"},"description":"Filter by author name"},{"name":"dateStart","in":"query","schema":{"type":"string","format":"date"},"description":"Filter by initiatives after this date (YYYY-MM-DD)"},{"name":"dateEnd","in":"query","schema":{"type":"string","format":"date"},"description":"Filter by initiatives before this date (YYYY-MM-DD)"},{"name":"updatedSince","in":"query","schema":{"type":"string","format":"date"},"description":"Filter by initiatives updated after this date (YYYY-MM-DD)"},{"name":"sort","in":"query","schema":{"type":"string","default":"lastUpdated"},"description":"Field to sort by"},{"name":"order","in":"query","schema":{"type":"string","enum":["asc","desc"],"default":"desc"},"description":"Sort order (asc or desc)"}],"responses":{"200":{"description":"List of initiatives with pagination info","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiativesList"}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}},"/api/types":{"get":{"tags":["types"],"summary":"Get initiative types","description":"Retrieve a list of initiative types with counts","responses":{"200":{"description":"List of initiative types","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TypesList"}}}},"500":{"description":"Server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}}}}}}